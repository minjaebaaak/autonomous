# AEGIS Protocol v3.1

> **A**utonomous **E**nhanced **G**uard & **I**nspection **S**ystem
>
> 상세: `.0/AEGIS_PROTOCOL.md`

---

# 필수 준수 사항 (CRITICAL RULES)

**이 규칙들은 새 세션, 컴팩트 후에도 반드시 따를 것:**

## 1. 한국어 사용
- **한국어로 사고하고, 한국어로 소통할 것**

## 2. AEGIS Protocol v3.1

**아키텍처:**
```
┌─────────────────────────────────────────────────────────────────┐
│                        AEGIS v3.1                               │
├─────────────────────────────────────────────────────────────────┤
│  ⚡ COGNITIVE LAYER (사고 도구)                                  │
│     ├─ ultrathink: 모든 작업에 기본 적용                         │
│     └─ Sequential Thinking MCP: 복잡한 문제 시 필수             │
├─────────────────────────────────────────────────────────────────┤
│  📋 TASK LAYER (작업 추적)                                       │
│     └─ TodoWrite: 모든 작업 현황 추적                            │
├─────────────────────────────────────────────────────────────────┤
│  🔍 VALIDATION LAYERS (7-Layer 검증)                            │
│     Layer 0: Schema Validation    | --schema <table> <column>   │
│     Layer 1: Static Analysis      | --build                     │
│     Layer 2: Unit Test            | pnpm test                   │
│     Layer 3: Integration Test     | --api                       │
│     Layer 4: E2E Test             | Playwright MCP              │
│     Layer 5: Staging Validation   | (수동)                      │
│     Layer 6: Production Monitor   | --monitor                   │
└─────────────────────────────────────────────────────────────────┘
```

### 필수 체크리스트

```
Pre-Commit:
[ ] Layer 0: 새 DB 컬럼 검증 (--schema)
[ ] Layer 1: 빌드 검증 (--build)

Pre-Deploy:
[ ] Layer 0-4 모두 통과
[ ] git push 완료

Post-Deploy:
[ ] Layer 6: 에러 로그 확인 (--monitor)
[ ] Layer 4: 프로덕션 E2E 검증
```

## 3. 작업 우선순위
- 모든 원인을 파악해서 진행할 것
- 수행 가능한 작업을 먼저 모두 수행
- **사용자에게 요청해야 하는 것들은 가장 마지막으로**

## 4. 목업 데이터 금지
- **절대 목업/더미/샘플 데이터 사용 금지**
- 모든 데이터는 실제 소스에서 가져올 것

## 5. 파일/API 삭제 전 사용처 확인 (필수)
- **파일 또는 API를 삭제하기 전에 반드시 사용처 검색**
```bash
grep -r "파일명 또는 API 경로" --include="*.ts" --include="*.tsx"
```

---

# 프로젝트 정보

## 개요
{{PROJECT_DESCRIPTION}}

## 서버 정보

| 항목 | 정보 |
|------|------|
| **공인 IP** | {{SERVER_IP}} |
| **사용자** | {{SERVER_USER}} |
| **프로젝트 경로** | {{PROJECT_PATH}} |

## 테스트 계정

| 역할 | 이메일 | 비밀번호 |
|------|--------|----------|
| **관리자** | {{ADMIN_EMAIL}} | {{ADMIN_PASSWORD}} |
| **사용자** | {{USER_EMAIL}} | {{USER_PASSWORD}} |

---

# 개발 환경

## 서버 실행
```bash
pnpm dev -p {{DEV_PORT}}
```

## 프로덕션 배포
```bash
ssh {{SERVER_USER}}@{{SERVER_IP}} '{{PROJECT_PATH}}/scripts/deploy.sh'
```

---

# 기술 스택

| 분류 | 기술 |
|------|------|
| Frontend | {{FRONTEND_STACK}} |
| Backend | {{BACKEND_STACK}} |
| Database | {{DATABASE_STACK}} |
| Auth | {{AUTH_STACK}} |

---

# 주요 디렉토리

```
{{DIRECTORY_STRUCTURE}}
```

---

**Spec**: aegis-protocol v3.1
**Last Updated**: {{LAST_UPDATED}}
